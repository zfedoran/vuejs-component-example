<component>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Lato:300);
      
      .todo-list {
        font-family: 'Lato', sans-serif;
        padding: 30px;
        background: inherit;
      }
      
      .todo-list ul {
        padding: 0 30px;
        margin: 0;
      }
      
      .todo-list button {
        font-size: 10px;
        padding: 5px;
        margin-left:10px;
        cursor:pointer;
        border: 1px solid #efefef;
        background: none;
      }
      
      .todo-list input {
        margin-top: 10px;
      }
    </style>


    <template>
        <div class="todo-list">
          <h2>My Todo List</h2>
          
          <ul>
            <li v-for="todo in todos">
              <span>{{ todo.text }}</span>
              <button v-on:click="removeTodo($index)"><span class="glyphicon glyphicon-remove remove" aria-hidden="true"></span></button>
            </li>
          </ul>
  
          <input v-model="newTodo" v-on:keyup.enter="addTodo">
        
        </div>
    </template>


    <script>
        var el = document.currentScript

        Vue.component('todo-list', {

            data: function() {
              return {
                newTodo: '',
                
                todos: [
                  { text: 'Feed the dragon' },
                  { text: 'Calculate the last remaining digits of PI' }
                ]
              }
            },

            methods: {

              addTodo: function () {
                var text = this.newTodo.trim()
                console.log(text)
                if (text) {
                  this.todos.push({ text: text })
                  this.newTodo = ''
                }
              },

              removeTodo: function (index) {
                this.todos.splice(index, 1)
              }

            },

            template: el.parentElement.querySelector('template')
        });
        
    </script>
</component>
